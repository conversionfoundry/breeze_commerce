<%= breeze_form_for @customer, :as => :customer, :url => url do |form| %>
  <h1>
    <%= @customer.new_record? ? 'New Customer' : "Editing Customer" %>
    <%= submit_tag "Save", :class => "large green save button" %>
    <%= link_to "Delete", admin_store_customer_path(@customer, :format => :js), :method => :delete, :remote => true, :class => "large red delete button" unless @customer.new_record? %>
  </h1>
  <%= render "/breeze/admin/shared/error_messages", :target => @customer, :object_name => :customer %>
  <div id="customer-details">
    <%= form.fieldset do %>
      <%= form.text_field :first_name, :required => true %>
      <%= form.text_field :last_name, :required => true %>
      <%= form.text_field :email, :required => true %>
      <%= form.password_field :password %>
      <%= form.password_field :password_confirmation %>
    <% end %>

    <div class="customer_addresses">
      <%= form.fields_for :shipping_address, @customer.shipping_address do |ship_form| %>
        <fieldset class="address-shipping address">
          <legend>Shipping Address</legend>
          <ol id="customer_shipping_address" class="form">
            <li class="name">
              <%= ship_form.label :name do |label| %>
                Name:
                <span class="required">*</span>
              <% end %>
              <%= ship_form.text_field :name, :class => :required, :value => @customer.name, :placeholder => 'Jane Doe'  %>
            </li>
            <li class="address">
              <%= ship_form.label :address do |label| %>
                Address
                <span class="required">*</span>
              <% end %>
              <%= ship_form.text_area :address, :class => :required, :placeholder => '123 Babbling Brook Lane                                                                          Riverton', :rows => 2 %>
            </li>
            <li>
              <%= ship_form.label :city do |label| %>
                City
                <span class="required">*</span>
              <% end %>
              <%= ship_form.text_field :city, :class => :required, :placeholder => 'Christchurch', :class => 'input-medium' %>
            </li>
            <li class="state">
              <%= ship_form.label :state do |label| %>
                State, Province or Region
                <span class="optional">(optional)</span>
              <% end %>
              <%= ship_form.text_field :state, :placeholder => 'Canterbury', :class => 'input-medium' %>
            </li>
              <%= ship_form.label :postcode do |label| %>
                Postcode
                <span class="optional">(optional)</span>
              <% end %>
              <%= ship_form.text_field :postcode, :class => 'input-small' %>
            </li>
              <%= image_tag "breeze/help.png", :id => "postcode-help", :title => "Postcode", :placeholder => '8011' %>
            </li>
            <li>
              <%= ship_form.label :country do |label| %>
                Country
                <span class="required">*</span>
              <% end %>
              <%= ship_form.select :country, Breeze::Commerce::COUNTRIES, :selected => 'New Zealand', :class => :required %>
            </li> 
            <li>
              <%= ship_form.label :phone do |label| %>
                Contact Phone Number
                <span class="optional">(optional)</span>
              <% end %>
              <%= ship_form.text_field :phone, :placeholder => '64 3 1234567', :class => 'input-medium'  %>
            </li>
          </ol>
        </fieldset>
      <% end %>

      <%= form.fields_for :billing_address, @customer.billing_address do |bill_form| %>
        <fieldset class="address-billing address">
          <legend>Billing Address</legend>
          <ol id="customer_billing_address" class="form">
            <li class="name">
              <%= bill_form.label :name do |label| %>
                Name:
                <span class="required">*</span>
              <% end %>
              <%= bill_form.text_field :name, :class => :required, :value => @customer.name, :placeholder => 'Jane Doe'  %>
            </li>
            <li class="address">
              <%= bill_form.label :address do |label| %>
                Address
                <span class="required">*</span>
              <% end %>
              <%= bill_form.text_area :address, :class => :required, :placeholder => '123 Babbling Brook Lane                                                                          Riverton', :rows => 2 %>
            </li>
            <li>
              <%= bill_form.label :city do |label| %>
                City
                <span class="required">*</span>
              <% end %>
              <%= bill_form.text_field :city, :class => :required, :placeholder => 'Christchurch', :class => 'input-medium' %>
            </li>
            <li class="state">
              <%= bill_form.label :state do |label| %>
                State, Province or Region
                <span class="optional">(optional)</span>
              <% end %>
              <%= bill_form.text_field :state, :placeholder => 'Canterbury', :class => 'input-medium' %>
            </li>
              <%= bill_form.label :postcode do |label| %>
                Postcode
                <span class="optional">(optional)</span>
              <% end %>
              <%= bill_form.text_field :postcode, :class => 'input-small' %>
            </li>
              <%= image_tag "breeze/help.png", :id => "postcode-help", :title => "Postcode", :placeholder => '8011' %>
            </li>
            <li>
              <%= bill_form.label :country do |label| %>
                Country
                <span class="required">*</span>
              <% end %>
              <%= bill_form.select :country, Breeze::Commerce::COUNTRIES, :selected => 'New Zealand', :class => :required %>
            </li> 
            <li>
              <%= bill_form.label :phone do |label| %>
                Contact Phone Number
                <span class="optional">(optional)</span>
              <% end %>
              <%= bill_form.text_field :phone, :placeholder => '64 3 1234567', :class => 'input-medium'  %>
            </li>
          </ol>
        </fieldset>
      <% end %>
    </div>

  </div>
<% end %>




